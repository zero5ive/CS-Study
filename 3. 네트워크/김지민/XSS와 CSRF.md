# XSS(Cross-Site Scipting, 크로스 사이트 스크립팅)란?
공격자가 악의적인 스크립트를 웹 사이트에 삽입하여, 해당 웹사이트를 방문하는 다른 사용자의 웹 브라우저에서 스크립트가 실행되도록 하는 공격 기법

1. 공격자는 웹사이트의 입력 필드(예: 게시판 글쓰기, 댓글 등)를 통해 악성 스크립트가 포함된 데이터를 입력
2. 웹 애플리케이션이 사용자의 입력을 충분히 검증하거나 필터링하지 않고 그대로 데이터베잇에 저장하거나, 페이지를 포함시켰을 때 사용자에게 보여지게 됨
3. 이 때 다른 사용자가 해당 웹사이트에 접근 했을 때 공격자의 악의적 스크립트가 실행되어 사용자의 쿠키, 세션탈취가 될 수 있고 피싱 사이트 등으로 리다이렉트 될 수도 있으며 악성파일을 다운로드 받을 수 있게 됨

#### XSS 방어기술
1. 입력값 검증(Input Validation): 사용자가 입력한 데이터에 스크립트로 해석될 수 있는 특수 문자(<, >, "," 등)가 포함되어 있는지 확인하고, 허용된 형식과 길이의 데이터만 받아들이며, 화이트리스트(허용 목록) 기반 검증이 효과적
2. 출력값 처리(Escaping): 사용자에게 글을 표시하기 전에, HTML 특수 문자를 특정 형식으로 변환하여 브라우저가 스크립트로 해석하지 않고 일반 텍스트로 인식하도록 함(예: '<' 를 '&lt;', '>' 를 '&gt;'로 변환)
3. 콘텐츠 보안 정책(CSP - Content Security Policy): 브라우저가 로드하거나 실행할 수 있는 리소스(스크립트, 스타일시트 등)의 출처를 명시적으로 제어하는 HTTP 헤더, 신뢰할 수 없는 출처의 스크립트 실행을 차단
4. HttpOnly 쿠키 사용: 쿠키에 HttpOnly 속성을 설정하면 JavaScript를 통해 쿠키 값에 접근하는 것을 막아, XSS 공격으로 인한 쿠키 탈취를 방지할 수 있음

# CSRF(Cross-Site Request Forgery, 크로스 사이트 요청 위조)란?
사용자가 의도하지 않은 요청을 특정 웹사이트에 보내도록 유도하는 공격이며 사용자의 인증 정보를 악용해 권한 있는 요청을 위조하는 것이 핵심

#### 공격 시나리오 예시
1. 사용자가 bank.com에 로그인하고 세션을 유지한 상태에서,
2. 공격자가 만든 웹사이트(예: evil.com)를 방문하면,
3. 그 안에 숨겨진 bank.com에 대한 POST 요청(예: 송금)이 사용자 모르게 자동으로 전송
공격자는 bank.com이 사용자의 세션을 기반으로 어떻게 요청을 보내는가에 대한 인터페이스(요청url, 메서드 등)을 파악한 다음, 피싱 사이트를 만들어 해당 사이트를 들어가게 유도한 다음, 공격을 함

#### 보안방법
이를 막기 위해서 사용자의 폼마다 고유한 토큰을 발급하고 서버에서 검증하는 방법, 쿠키옵션 중 SameSite=Strict를 적용해서 타도메인에서 쿠키가 전송되지 않게 하는 방법, 민감한 요청은 "비밀번호 입력 후 송금" 등 한번 더 확인하는 UI를 쓰는 방법이 있음
