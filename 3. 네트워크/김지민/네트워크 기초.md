# 네트워크, 처리량, 트래픽, 대역폭, RTT

#### 네트워크란?
노드(node)와 링크(link)가 서로 연결되어 있으며 리소스를 공유하는 집합을 의미
- 노드 : 서버, 라우터, 스위치 등 네트워크 장비
- 링크(엣지) : 유선 또는 무선과 같은 연결매체 (와이파이나 LAN)
- 
![](https://velog.velcdn.com/images/shypanda0119/post/cbfe30f4-4359-4e0f-a977-91dddcafcec9/image.png)

#### 트래픽이란?
특정시점에 링크 내의 "흐르는" 데이터의 양
- 트래픽 많아졌다 = 흐르는 데이터가 많아졌다
- 처리량이 많아졌다 = 처리되는 트래픽이 많아졌다
- 
![](https://velog.velcdn.com/images/shypanda0119/post/690082b1-0069-4686-abd2-e44e7ce39233/image.png)

#### 처리량이란?
링크 내에서 성공적으로 전달된 데이터 양을 말하며 보통 얼만큼의 트래픽을 처리했는지를 나타냄

#### 대역폭이란?
주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수를 말함

#### RTT(Round Trip Time)란?
신호를 전송하고 해당 신호의 수신확인에 걸린 시간을 더한 값이자 어떤 메시지가 두 장치 사이를 왕복하는 데 걸린 시간

#### 레이텐시(latency)란?
데이터가 한 방향(편도) 으로 전달되는 데 걸리는 지연 시간

# 네트워크 토폴로지 : 버스, 스타, 트리, 링, 메시

### 네트워크 토폴로지란?
노드(컴퓨터, 라우터, 스위치 등)와 링크(케이블, 무선)가 어떠한 구조로 연결되어있는지를 나타내는 방식

#### 버스 토폴로지
회선 하나에 여러개의 노드가 연결된 구조

![](https://velog.velcdn.com/images/shypanda0119/post/e2b2011c-c771-4003-b97b-e1165404093a/image.png)

**장점**
- 보통 소규모 네트워크에서 설치되기 때문에 설치비용이 적고, 간단한 구조라 복잡한 구조보다 상대적으로 유지보수가 쉬움
- 한 노드에 장애가 발생해도 전체 네트워크에 영향을 주지 않음

**단점**
- 회선에 많은 트래픽이 생기면 정체현상 발생가능성이 높음(패킷 손실율 높음)
- 회선 하나로 운영되는 구조라 회선이 망가지면 전체 네트워크에 장애 발생
- 모든 노드가 동일 회선을 공유하기 때문에 패킷 도청(스니핑)이나 위조(스푸핑) 등의 보안 위협에 취약

#### 스타 토폴로지
하나의 중앙 노드(허브 또는 스위치)를 중심으로, 여러 개의 말단 노드가 별 모양처럼 각각 독립적으로 연결된 구조이며 모든 통신은 항상 중앙 노드를 통해서만 이루어짐

![](https://velog.velcdn.com/images/shypanda0119/post/33755f60-2390-4f67-a309-b87d11809992/image.png)

**장점**
- 보안관리 용이성 : 모든 통신이 중앙 노드를 통과하므로 병화벽, 침입 탐지 시스템(IDS) 등 보안 장비를 중앙에 집중 적용 가능하며 노드 간 직접 연결이 없기 때문에 다른 노드로의 무단 확장이 어렵고 보안 위협의 확산 가능성도 낮음

**단점**
- 중앙노드 에러시 큰 문제가 발생

#### 트리 포폴로지
계층적 구조를 가진 네트워크 형태로, 트리(Tree) 구조처럼 상위 노드와 하위 노드가 단계적으로 연결되어 있음

![](https://velog.velcdn.com/images/shypanda0119/post/d6dd83f1-4d89-4a86-8efd-0bda341e2ce8/image.png)

**장점**
- 리프노드의 확장이 용이
- 리프노드의 에러는 나머지 부분에 영향을 미치지 않음

**단점**
- 특정 노드 트래픽 집중시 그 하위 모든 노드에 병목 현상 발생 가능성이 있음
- 루트노드에 문제가 생기면 전체 네트워크에 큰 문제가 발생

#### 링형 토플로지
노드들이 고리(Ring) 형태로 연결된 네트워크 구조

![](https://velog.velcdn.com/images/shypanda0119/post/1ab541d3-0201-4473-b329-27d581d9fd99/image.png)

**장점**
- 토큰링 기반 프로토콜로 데이터를 전달. 네트워크 상에는 단 하나의 토큰이 존재하고 토큰을 소유한 노드만 데이터 송신, 수신 권한을 가짐. 이 때문에 다른 노드가 동시에 전송할 일이 전혀 없으므로 데이터 충돌 발생이 없음
- 노드 고장 위치를 비교적 쉽게 파악 할 수 있음
- 각 노드가 앞뒤 두 노드와만 연결되므로 이론적으로 노드 추가/삭제가 간단함

**단점**
데이터 전송시 모든 노드를 거쳐야 하므로 전송 지연(latency) 발생 가능

#### 메시 토폴로지
모든 노도들이 직접 서로 연결되는 그물망 형태의 네트워크 구조
- Full Mesh : 모든 노드가 서로 1:1로 연결되어 있는 구조
- Partial Mesh : 일부 노드만 연결되어 있는 구조
- 
![](https://velog.velcdn.com/images/shypanda0119/post/0dba7ef3-a367-4433-a709-b8a5408f40ac/image.png)

**장점**
- 안정성이 높고, 한 노드가 장애가 나도 다른 노드에 영향을 미치지 않음
- 트래픽을 분산할 수 있음

**단점**
- 비용 : 기본적으로 연결되는 회선이 많기 때문에 초기 구축 비용, 설계 비용, 관리 비용이 많아지고 노드 추가/삭제가 어려움. 노드를 추가하려면 다른 노드들과 새로운 연결을 일일이 구성해야 함

# 병목현상과 네트워크 토폴로지의 필요성

#### 병목현상
네트워크에서 트래픽이 특정 구간에 집중되어 데이터 흐름 속도가 제한되는 상황(핫스팟이라고도 함)

**원인**
1. 대역폭 부족 : 라우터, 스위치, 특정 링크가 감당할 수 있는 트래픽보다 많은 데이터가 몰릴 때
2. 서버/애플리케이션 처리 능력 한계 : 서버 CPU, 메모리, 스레드 풀 부족으로 패킷 처리가 지연
3. 네트워크 토폴로지 문제 : 여러 클라이언트가 하나의 경로를 공유할 때 특정 구간에 과부하

**해결 방법**
로드밸런싱, 스케일 업, 스케일 아웃 등 여러가지 방법이 존재

#### 토폴로지의 필요성
토폴로지를 파악함으로써 병목현상을 해결하는 척도가 됨

# 유니캐스트, 멀티캐스트, 브로드 캐스트

#### 유니 캐스트란?
1:1 통신, 대표적으로 HTTP 통신이 있음
가장 일반적인 네트워크 전송형태

#### 멀티캐스트
1:N 통신
다만 연결된 모든 노드들에게 데이터를 전달하지는 않고 특정 그룹에게만 데이터를 전달

#### 브로드캐스트
1:N 통신
그룹이 아닌 연결돼있는 모든 노드에게 데이터를 전달(ARP가 있음)

# LAN, MAN, WAN

#### LAN(Local Area Network, 근거리 통신망)이란?
MAN, WAN보다 높은 안정성, 속도를 가지고 소규모 네트워크(집, 사무실) - 보통 허브나 스위치로 연결된 네트워크를 말함
![](https://velog.velcdn.com/images/shypanda0119/post/f16d7593-db36-49d7-85fd-3faed578854d/image.png)
하나의 논리적인 주소인 IP를 기반으로 여러개의 물리적 주소인 MAC 주소로 구별하는 네트워크라고도 볼 수 있음

#### MAN(Metroplitan Area Network, 대도시 통신망)이란?
도시와 도시의 통신망을 뜻하며 2개 이상의 LAN이 연결되어 구성(라우터, 브리지 등으로 연결되는게 특징)

#### WAN(Wide Area Network, 광역 통신망)이란?
국가와 국가와의 통신망을 뜻하며 인터넷이라고도 함(수많은 라우터를 거쳐 다른 국가와도 연결되는 범위를 말함)




