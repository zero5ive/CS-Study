
# API
API(API, Application Programming Interface)는 둘 이상의 컴퓨터 프로그램이 서로 통신하는 방법이자 컴퓨터 사이에 있는 중계 계층을 의미한다.

ex) 프로토콜, 메서드, 데이터타입 등이 정의된 중계계층

예를 들어 A라는 컴퓨터가 요청을 하고 B라는 컴퓨터가 응답을 한다고 했을 때의 어떻게 통신할 것인지, 어떠한 데이터를 주고 받을 건지 에 대한 방법(HTTP, HTTPS 프로토콜을 사용할 것인지, GET, POST 등의 방식 등..)이 정의된 중계계층을 말한다.

- 프로토콜이란? 서로 통신할 때 지켜야 하는 규칙의 집합 (ex) HTTP -> 웹 통신 규칙, HTTPS -> HTTP + 보안)
- GET, POST등은 HTTP프로토콜에서 정의한 요청메서드로 클라이언트의 요청의도를 서버로 전송하기 위한 규칙 -> 이 약속들의 묶음이 http 프로토콜)
- 프로그래밍에서의 메서드 (java) -> 객체가 수행할 수 있는 함수 ex) user.save() -> user객체가 save라는 동작을 수행
- HTTP에서의 메서드 -> 클라이언트가 서버에 요청할 때의 '행위 종류' ex) get, post
- 데이터 타입 -> 값의 형태 ex) int, string 


참고로 API는 과거부터 발전되어온 용어로 라이브러리 및 프레임워크를 설명하는 명세서, 웹상에서 WEB API, Web Socket API 등을 가리키는데 현재를 기준으로 API라고할 때 보통 WEB API를 기준으로 설명한다.



- API 한줄 설명 : API는 프로그램 간 기능을 주고받기 위한 인터페이스이며, 웹에서는 HTTP를 통해 메서드, URL, 데이터 형식을 규칙으로 정의한 것이 API이다.



POST, JSON 같은 건 API를 구성하는 요소이고, 이 요소들을 조합해 특정 기능을 제공하는 규칙이 API이다. (API = GET/POST + URL + JSON 형식 + 응답 약속)



# Interface
인터페이스(interface)는 서로 다른 두 개의 시스템, 장치 사이에서 정보나 신호를 주고 받는 경우의 접점이나 경계면이다. 이를 통해 해당 컴퓨터의 내부서버가 어떻게 구현되어있는지는 상관없이 인터페이스를 통해 통신 등이 가능하다.

(내부 구현을 몰라도, 정해진 방식으로 사용만 할 수 있게 해주는 것)



ex) 네이버 웹툰

네이버의 웹툰의 서버가 어떻게 되어있는지. 데이터베이스가 어떻게 되어있는지 알지못한다. 그러나 인터페이스를 기반으로 웹툰의 서비스를 즐길 수 있다.



- API에서 말하는 인터페이스란? 내부 구현을 숨기고 , 사용 방법만 제공하는 개념이며 API에서의 인터페이스는 사람이 아니라 '프로그램'을 위한 인터페이스 이다. -> API는 화면 대신, ‘HTTP 요청 규칙’이라는 사용 설명서를 프로그램에게 제공하는 것
- HTTP 요청 규칙은 (API가 정의하는 규칙)“이 URL에
이 메서드로
이런 형식의 JSON을 보내면
이런 응답이 온다” 라는 전체 설명서

```
POST /users
Content-Type: application/json

{
  "name": "유진"
}
```





# API의 작동방식
API는 다음과 같이 중계계층으로 끼어져있어서 작동을 한다.






사용자가 브라우저를 통해서 서버에 요청을 하게 되면 API가 중계계층역할을 하며 요청을 처리하는 것을 볼 수 있다. 직접 서버의 데이터베이스에 접근 하는 것을 방지하기도 하는 것을 볼 수 있다.





# API의 장점
1. 제공자는 서비스의 중요한 부분을 드러내지 않아도 된다. 예를 들어 DB 설계 구조나 드러내고 싶지 않은 데이터베이스 테이블 정보, 서버의 상수값 등을 드러내지 않고 드러내고 싶은 부분만을 드러낼 수 있다.



2. 사용자는 해당 서비스가 어떻게 구현되는지 알 필요없이 필요한 정보만을 받을 수 있다.



3. OPEN API의 경우 앱 개발 프로세스를 단순화 시키고 시간과 비용을 절약할 수 있다.

ex) 네이버 로그인, 구글 로그인



4. 내부 프로세스가 수정되었을 떄 API를 매번 수정하는 것이 아닌 API가 수정이 안되게 만들 수 있다. 이를 통해 내부 DB, 서버의 로직이 변경되어도 매번 사용자가 앱을 업데이트하는 일은 줄어들 수 있다.

ex) DB튜닝



5. 제공자는 데이터를 한 곳에 모을 수 있다. 예를 들어 해당 사이트에 방문하는 방문자, 어떤 특정한 것을 클릭하는 사용자에 대한 이벤트를 집계하고 싶을 때 해당 API를 만들고 해당 이벤트가 발생하면 해당 API를 호출하게 만들면 해당 데이터를 한 곳에 모을 수 있다.

ex) yes24의 베스트 셀러, 검색페이지에서의 사용자이벤트





# API의 종류
- private : 내부적으로 사용된다. 주로 해시키를 하드코딩해놓고 이를 기반으로 서버와 서버간의 통신을 한다.

이는 비즈니스 파트너와도 사용될 수 있다. 비밀스럽게 해당 파트너와 해시키를 공유해 통신한다.



- public : 모든 사람이 사용할 수 있다. 많은 트래픽을 방지하기 위해 하루 요청수의 제한, 계정 당 몇개 등으로 관리한다.








- API는 서버의 내부 구현을 숨기고, HTTP 요청 규칙이라는 인터페이스를 통해 프로그램이 기능을 사용할 수 있게 한다.
