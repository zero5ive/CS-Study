
# 가상머신
가상머신은 하나의 물리 서버를 여러 개의 독립된 서버처럼 사용할 수 있도록 가상화한 환경으로, 각각의 VM은 자체 OS를 가지고 동작하는 것을 말한다.

# 전통적 배포방식
물리적인 컴퓨터 한 대에 하나의 os를 깔고 여러 가지 프로그램을 설치하는 방식. 계정을 나눠 여러명의 사용자가 이용할 수 있도록 할 수 있지만 어떤 프로그램을 설치했을 때 다른 앱에 영향을 미친다.





# 가상화 배포방식
가상머신을 기반으로 배포하는 것을 말한다. 가상머신이란 하드웨어를 소프트웨어적으로 구현하는 것을 말한다.

계정을 나누는 것이 아니라 한 대의 컴퓨터를 가지고 여러개의 os를 구동할 수 있게 되며 cpu, ram을 물리적으로 갈아끼는 것이 아니라 설정만으로 이를 수행할 수 있게 되었다.

<img width="1180" height="1028" alt="image" src="https://github.com/user-attachments/assets/6de66643-7433-45e7-81a7-c0a1f46892d5" />






중간에 있는 하이퍼바이저는 하나의 시스템 상에서 가상 컴퓨터를 여러 개 구동할 수 있도록해 주는 중간 계층을 의미하며 이 위에 여러개의 가상머신을 구축할 수 있고 가상머신 위에 OS그리고 그 위에 앱이 올라가는 형태로 가상머신을 독립적으로 수행할 수 있다.


<img width="1246" height="736" alt="image" src="https://github.com/user-attachments/assets/aa33ebc8-5653-42f7-a062-a5d57b03ab23" />







클라우드는 이러한 가상화라는 기술 때문에 한대의 하드웨어로 여러명의 사용자들에게 독립적으로 클라우드 서비스를 할 수 있다.

단점 : 가상머신 위에 os 일일이 설치





# 오프프레미스(off-premise)와 온프레미스(on-premise)


# 오프프레미스(off-premise) 방식
클라우드 서비스는 내가 아닌 다른 회사의 공급자가 호스팅하고 인터넷을 통해 사용자에게 제공되는 인프라, 플랫폼 또는 소프트웨어를

말 한다. 즉 클라우드 서비스 제공 업체를 통해 제공되는 외부 환경에서 실행되는 서비스다.

이를 이용하면 자체 인프라나 하드웨어 설치 없이도 애플리케이션과 리소스에 쉽고 싸게 이용이 가능하다.

ex) AWS, 네이버 클라우드(NCP)

<img width="1464" height="770" alt="image" src="https://github.com/user-attachments/assets/71b99bba-d60c-4d3d-8d3f-ff269882651c" />




# 온프레미스(on-premise) 방식
이와는 반대로 온프레미스방식은 기업이나 개인이 자체 시설에서 보유하고 직접 유지 관리하는 프라이빗 데이터 센터(IDC)을 의미한다.

ex) 네이버의 데이터센터 각

온프레미스는 기업이 자체 데이터 센터에 하드웨어와 소프트웨어를 배치하고 관리하는 전통적인 방식이다. 즉, 네트워크 선까는 것부터 시작해 서버, 데이터베이스 설치 등을 하는 것 







# IaaS와 PaaS와 SaaS


# IaaS
IaaS(Infrastructure-as-a-Service)는 인프라형 클라우드서비스이다.

클라우드가 단지 인프라를 제공한다. node.js MongoDB등을 개발자가 직접 설치해야 하는 대신 특정 서비스에 종속되지 않는다.

ex) AWS의 EC2, NCP 등

(빈 방을 주고 node.js, spring들을 직접 설치하는 것)





# PaaS
PaaS(Platform-as-a-Service)는 플랫폼형 클라우드 서비스이다.

클라우드가 플랫폼을 제공한다. Node.js, MongoDB등이 설치되었으며 그저 클릭을 통해 해당 서비스를 이용할 수 있다. 모니터링, CI/CD가 제공된다.

ex) heroku

(옵션이 다 있는 오피스텔이라 생각하면 됨)



# SaaS
SaaS(Software-as-a-Service)는 서비스형 클라우드서비스이다.

완전한 서비스를 클라우드서비스로부터 제공받아 사용한다.

ex) 구글DOCS (구글 DOCS의 경우 클라우드를 통해 다른 컴퓨터에서도 쉽게 작업. 다른 사람과의 실시간 공유작업이 가능하다.)





# IaaS와 PaaS 비교

| 구분 | IaaS | PaaS |
|:---|:---|:---|
| 유연성 | 높음 (유연하며 플랫폼에 종속되지 않음) | 낮음 (유연하지 않으며 플랫폼에 종속됨) |
| 이식성 | 높음 | 낮음 |
| 운영비 효율 | 낮음 | 높음 |











# 컨테이너(container)와 도커(docker)


# 컨테이너(container)
컨테이너는 애플리케이션이 한 컴퓨팅 환경에서 다른 컴퓨팅 환경으로 빠르고 안정적으로 실행되도록 코드와 모든 종속성을 패키징하는 소프트웨어의 표준 단위이다.

컨테이너는 os를 공유하기 때문에 빠르고, 경량화되어있으며 격리성도 훌륭하다. 그러나 os에 문제가 생기면 다른 앱에도 영향을 미칠 수 있다.

<img width="1312" height="554" alt="image" src="https://github.com/user-attachments/assets/d89db17b-e442-4a78-ab74-a00d1f423398" />





가상화 배포방식보다 조금 더 발전된 것이 컨테이너 배포방식(오른쪽이 가상화, 왼쪽이 컨테이너)

가상화 배포방식은 가상머신 위에 각각의 os, 그 위에 앱을 깔았다면 컨테이너 배포방식은 os는 하나만 깔고 그 위에 도커가 올라가 있고 그 위에  컨테이너로 포장된 어플리케이션(containerized application)들이 나눠져있다. 

가상화 배포방식은 os를 공유하지 않고 하나하나씩 설치해야됐지만 컨테이너 배포방식은 os를 공유하고 컨테이너로 앱들이 격리되어 있다.

그렇기때문에 os를 일일이 설치할 필요가 없다.(조금 더 빠르고 경량화 돼 있다.)





# 도커
도커는 컨테이너배포에 필요한 거의 모든 기능을 제공하는 플랫폼이다. (컨테이너를 만들어주는 플랫폼)

애플리케이션 구동에 필요한 환경설정관련 절차를 도커파일에 작성하고 그 후 빌드를 하면 도커이미지가 생성이 되고 도커이미지를 실행시키면 도커컨테이너가 만들어진다. 그 후 도커컨테이너에 설정된 프로그램, 데이터 등이 실제 컴퓨팅자원 위에서 돌아가게 된다.

<img width="1394" height="420" alt="image" src="https://github.com/user-attachments/assets/9de45399-e02f-450c-8473-b84bf6da5205" />




1. 도커파일 : 패키지, 환경변수설정 등을 기록한 파일이다. 이를 빌드해 도커 이미지로 변환한다.



2. 도커이미지 : 컨테이너 실행에 필요한 파일과 설정값, 데이터 등을 포함된 상태값이며 불변한다. 하나의 이미지에서 여러개의 컨테이너를 생성할 수 있으며 컨테이너의 상태와는 무관하게 이미지는 그대로 존재한다.



3. 도커컨테이너 : 컨테이너가 실행시키면 도커이미지에 설정된 프로그램, 데이터 등이 실제 컴퓨팅자원과 연결된다.



도커 파일은 그냥 글, 그걸 빌드 해야 이미지(어떠한 상태값으로 변환)가 된다.
이미지로 부터 여러개의 컨테이너를 만들 수 있다.
이미지와 컨테이너는 서로 독립적이다. (컨테이너가 죽어도 이미지에는 영향x)
